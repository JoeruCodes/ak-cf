name = "cf_ws"
main = "build/worker/shim.mjs"
compatibility_date = "2024-12-20"

[build]
command = "cargo install -q worker-build && worker-build --release"

[durable_objects]
bindings = [
  { name = "USER_DATA_WRAPPER", class_name = "UserDataWrapper" },
]

[triggers]
crons = ["*/10 * * * *"]

[[migrations]]
tag = "v2"
new_sqlite_classes = [ "UserDataWrapper" ]

[observability.logs]
enabled = true

[[d1_databases]]
binding = "D1_DATABASE"
database_name = "game-data"
database_id = "76b819ce-4bdf-4b02-99d9-4db19e6cd212"